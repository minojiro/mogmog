(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{7774:function(n,t,e){"use strict";var r=e(5893),c=(e(7294),e(1664));t.Z=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"\u307f\u3093\u306a\u3067\u4f5c\u308b\u6210\u5206\u8868\u6295\u7a3f\u30b5\u30a4\u30c8 \u3082\u3050\u3082\u3050"}),(0,r.jsxs)("nav",{className:"navbar pt-6 pb-6",children:[(0,r.jsx)("div",{className:"navbar-brand",children:(0,r.jsx)("a",{className:"navbar-item",href:"/",children:(0,r.jsx)("img",{src:"/mogmog-logo.svg",width:"100",style:{maxHeight:"unset"},alt:"mogmog"})})}),(0,r.jsx)("div",{id:"navbarBasicExample",className:"navbar-menu",children:(0,r.jsxs)("div",{className:"navbar-start",children:[(0,r.jsx)(c.default,{href:"/",children:(0,r.jsx)("a",{className:"navbar-item",children:"\u98df\u54c1\u4e00\u89a7"})}),(0,r.jsx)(c.default,{href:"/products/new",children:(0,r.jsx)("a",{className:"navbar-item",children:"\u65b0\u898f\u8ffd\u52a0"})})]})})]})]})}},5826:function(n,t,e){"use strict";e.d(t,{Z:function(){return j}});var r=e(5893),c=e(6265),a=e(7294),o=e(809),s=e.n(o),u=e(2447),i=e(9669),l=e.n(i),d={headers:{Authorization:"Client-ID b93f7379887a66c"}},f=function(){var n=(0,u.Z)(s().mark((function n(t){var e,r,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e={image:t,type:"base64"},n.next=4,l().post("https://api.imgur.com/3/upload",e,d);case 4:r=n.sent,c=r.data,console.log(c),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:return n.abrupt("return","");case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.useState)(""),t=n[0],e=n[1],c=(0,a.useCallback)((function(n){var t=n.target.files&&n.target.files[0];if(t){var r=new FileReader;r.addEventListener("load",(0,u.Z)(s().mark((function n(){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=String(r.result),n.t0=e,n.next=4,f(t);case 4:n.t1=n.sent,(0,n.t0)(n.t1);case 6:case"end":return n.stop()}}),n)}))),!1),t&&r.readAsDataURL(t)}}),[]);return(0,r.jsxs)("div",{children:[t&&(0,r.jsx)("figure",{className:"image is-96x96 mb-1",children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"file is-boxed",children:(0,r.jsxs)("label",{className:"file-label",children:[(0,r.jsx)("input",{className:"file-input",type:"file",name:"resume",onChange:c}),(0,r.jsxs)("span",{className:"file-cta",children:[(0,r.jsx)("span",{className:"file-icon",children:(0,r.jsx)("i",{className:"fas fa-upload"})}),(0,r.jsx)("span",{className:"file-label",children:"Choose a file\u2026"})]})]})})]})};function h(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function m(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?h(Object(e),!0).forEach((function(t){(0,c.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var j=function(n){var t=n.formProduct,e=n.onChange,c=n.onSubmit,a=function(n){e(m(m({},t),n))};return(0,r.jsxs)("form",{onSubmit:function(n){c(),n.preventDefault()},children:[(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"Name"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("input",{type:"text",className:"input",value:t.name,onChange:function(n){return a({name:n.target.value})},placeholder:"name"})})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"Amazon \u5546\u54c1\u30da\u30fc\u30b8 URL"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("input",{type:"text",className:"input",value:t.amazonUrl,onChange:function(n){return a({amazonUrl:n.target.value})},placeholder:"amazonUrl"})})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"\u8868\u306e\u753b\u50cf"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)(p,{})})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"\u6210\u5206\u8868\u306e\u753b\u50cf"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)(p,{})})]}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("button",{className:"button is-link",type:"submit",children:"\u6295\u7a3f"})})]})}},7996:function(n,t,e){"use strict";e.r(t);var r=e(5893),c=e(809),a=e.n(c),o=e(2447),s=e(5193),u=e(7294),i=e(1163),l=e(9008),d=e(7774),f=e(5826),p=e(3301),h=e.n(p);t.default=function(){var n=(0,u.useState)({name:"",nutritionImageUrl:"//placehold.jp/100x100.png",amazonUrl:"",coverImageUrl:"//placehold.jp/100x100.png"}),t=n[0],e=n[1],c=(0,i.useRouter)(),p=~~c.query.productId,m=h()(s.x.products._productId(p)),j=m.data,v=m.revalidate;(0,u.useEffect)((function(){j&&e(j)}),[j]);var x=(0,u.useCallback)((0,o.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.x.products._productId(p).put({body:t});case 2:return n.next=4,v();case 4:c.push("/products/".concat(p));case 5:case"end":return n.stop()}}),n)}))),[t,p]);return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(l.default,{children:(0,r.jsx)("title",{children:"ProductEdit"})}),(0,r.jsx)(d.Z,{}),(0,r.jsx)(f.Z,{formProduct:t,onChange:e,onSubmit:x})]})}},5193:function(n,t,e){"use strict";e.d(t,{x:function(){return o}});var r=e(8416),c=e.n(r),a=e(3928),o=function(n){var t=n.baseURL,e=n.fetch,r=(void 0===t?"":t).replace(/\/$/,""),c="/products",o="/tasks",s="/token",u="/user",i="GET",l="POST",d="DELETE",f="PATCH";return{products:{_productId:function(n){var t="".concat(c,"/").concat(n);return{get:function(n){return e(r,t,i,n).json()},$get:function(n){return e(r,t,i,n).json().then((function(n){return n.body}))},put:function(n){return e(r,t,"PUT",n).json()},$put:function(n){return e(r,t,"PUT",n).json().then((function(n){return n.body}))},$path:function(){return"".concat(r).concat(t)}}},get:function(n){return e(r,c,i,n).json()},$get:function(n){return e(r,c,i,n).json().then((function(n){return n.body}))},post:function(n){return e(r,c,l,n).json()},$post:function(n){return e(r,c,l,n).json().then((function(n){return n.body}))},$path:function(n){return"".concat(r).concat(c).concat(n&&n.query?"?".concat((0,a.dataToURLString)(n.query)):"")}},tasks:{_taskId:function(n){var t="".concat(o,"/").concat(n);return{patch:function(n){return e(r,t,f,n).send()},$patch:function(n){return e(r,t,f,n).send().then((function(n){return n.body}))},delete:function(n){return e(r,t,d,n).send()},$delete:function(n){return e(r,t,d,n).send().then((function(n){return n.body}))},$path:function(){return"".concat(r).concat(t)}}},get:function(n){return e(r,o,i,n).json()},$get:function(n){return e(r,o,i,n).json().then((function(n){return n.body}))},post:function(n){return e(r,o,l,n).json()},$post:function(n){return e(r,o,l,n).json().then((function(n){return n.body}))},$path:function(n){return"".concat(r).concat(o).concat(n&&n.query?"?".concat((0,a.dataToURLString)(n.query)):"")}},token:{post:function(n){return e(r,s,l,n).json()},$post:function(n){return e(r,s,l,n).json().then((function(n){return n.body}))},$path:function(){return"".concat(r).concat(s)}},user:{get:function(n){return e(r,u,i,n).json()},$get:function(n){return e(r,u,i,n).json().then((function(n){return n.body}))},post:function(n){return e(r,u,l,n,"FormData").json()},$post:function(n){return e(r,u,l,n,"FormData").json().then((function(n){return n.body}))},$path:function(){return"".concat(r).concat(u)}},get:function(n){return e(r,"",i,n).text()},$get:function(n){return e(r,"",i,n).text().then((function(n){return n.body}))},$path:function(){return"".concat(r)}}}(c()())},8638:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[productId]/edit",function(){return e(7996)}])},2447:function(n,t,e){"use strict";function r(n,t,e,r,c,a,o){try{var s=n[a](o),u=s.value}catch(i){return void e(i)}s.done?t(u):Promise.resolve(u).then(r,c)}function c(n){return function(){var t=this,e=arguments;return new Promise((function(c,a){var o=n.apply(t,e);function s(n){r(o,c,a,s,u,"next",n)}function u(n){r(o,c,a,s,u,"throw",n)}s(void 0)}))}}e.d(t,{Z:function(){return c}})},1163:function(n,t,e){n.exports=e(2441)}},function(n){n.O(0,[366,158,774,888,179],(function(){return t=8638,n(n.s=t);var t}));var t=n.O();_N_E=t}]);